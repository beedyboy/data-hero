{"version":3,"file":"index.es.js","sources":["../src/index.ts"],"sourcesContent":["class DataHero {\r\n  payload: any = {}\r\n  //check if rules exist or terminate\r\n\r\n  validate (schema: any, data: object) {\r\n    if (schema && data) {\r\n      Object.keys(schema).forEach(key => {\r\n        this.spread(key, schema[key], data)\r\n      })\r\n      return this.payload\r\n    }\r\n  }\r\n\r\n  spread (key: any, shuffle: any, data: any) {\r\n    let message: string = ''\r\n    let error: boolean = false\r\n    let value = ''\r\n    if (key in data) {\r\n      value = data[key]\r\n    }\r\n\r\n    // if (typeof value != undefined && value) {\r\n    for (let property in shuffle) {\r\n      if (property == 'message') {\r\n        message = shuffle[property]\r\n      } else {\r\n        const feedback = this.validator(value, property, shuffle[property])\r\n        if (error == false && feedback == true) {\r\n          error = true\r\n        }\r\n      }\r\n    }\r\n    // }\r\n\r\n    this.payload[key] = {\r\n      error,\r\n      message\r\n    }\r\n\r\n    return this.payload\r\n  }\r\n\r\n  validator (field: any, rule: any, rule_value: any): boolean {\r\n    if (field != undefined && rule_value != undefined) {\r\n      switch (rule) {\r\n        case 'min':\r\n          if (field == undefined) {\r\n            console.log('min pron')\r\n          } else if (field == undefined && rule_value >= 0) {\r\n            return true\r\n          } else {\r\n            return rule_value > field.length\r\n          }\r\n          break\r\n\r\n        case 'max':\r\n          if (field == undefined && rule_value >= 0) {\r\n            return true\r\n          } else {\r\n            return field.length > rule_value\r\n          }\r\n          break\r\n\r\n        case 'email':\r\n          if (field != undefined && rule_value) {\r\n            var regexp = new RegExp(\r\n              /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n            )\r\n            return !regexp.test(field) \r\n          } else {\r\n            return true\r\n          }\r\n          break\r\n\r\n        case 'isEmpty':\r\n          if (rule_value === true) {\r\n            return false\r\n          }\r\n          return field === undefined || field === '' || field === null\r\n          break\r\n\r\n        case 'isNumeric':\r\n          if (rule_value === true) {\r\n            const correct =\r\n              !(field instanceof Array) && field - parseFloat(field) + 1 >= 0\r\n            return !correct\r\n          }\r\n      }\r\n    }\r\n\r\n    return true\r\n  }\r\n}\r\nlet dataHero = new DataHero()\r\nexport default dataHero\r\n\r\n// const schema = {\r\n//     email: {\r\n//         min: 14,\r\n//         email: true,\r\n//         message: 'Email is required'\r\n\r\n//       },\r\n//       password: {\r\n//             min: 8,\r\n//             isEmpty: true,\r\n//         message: 'password is required'\r\n\r\n//       }\r\n// };\r\n// const data = {\r\n//     email: 'bolade@gmail.com',\r\n//     password: \"\"\r\n// }\r\n// // console.log( dataHero.validate(schema, data));\r\n// const p = '2.3';\r\n//  console.log(dataHero.validator(p, 'isNumeric', true));\r\n"],"names":[],"mappings":"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"}